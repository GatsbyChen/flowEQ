<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>flowEQ</title>
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/minimal.css">

		<!-- LaTeX support - Woo! -->
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style>
			.container {
				display: flex;
			}
			.col {
				flex: 1;
			}
			.MJXc-display {
				font-size: 1.3em !important;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<div class="top-logo">
						<img src="img/upf_red.svg" style="width: 20%;">
					</div>
					<div class="title">
						<h1 style="margin: 0px 0 0 0;" class="title-text">flowEQ</h1>
						<h4 style="margin: 0 0 0 0;">A new way to navigate equalization</h4>
						<h6 style="margin: 5px 0 0 0;">October 17th, 2019 - 147th AES Convention - New York, New York, USA</h6>
						<h3 style="margin: 25px 0 0 0;">Christian Steinmetz</h3>
						<h5 style="margin: 0px 0 0 0;">Music Technology Group, Universitat Pompeu Fabra, Barcelona, Spain</h5>
					</div>
				</section>
				<section>
					<div style="text-align: center;">
						<img src="img/headshot_bw_sm.jpg" style="width: 300px;">
						<h3><strong> Christian Steinmetz </strong></h3>
						<h5> <a href="https://twitter.com/csteinmetz1">@csteinmetz1</a></h5>
						<h5> <a href="https://christiansteinmetz.com">www.christiansteinmetz.com</a></h5>
						<h5> <a href="mailto:christian.steinmetz@upf.edu">christianjames.steinmetz01@estudiant.upf.edu</a></h5>
					</div>
				</section>
				<section>					
					<section data-background="#c8102f">
						<h1 class="white"> What is <strong>flowEQ</strong>? </h1>
					</section>
					<section>
						<img src="../img/traverse.gif" style="max-height: 90%; max-width: 90%;">
						<h3>Using machine learning for simplified control of parametric EQ</h3>
					</section>
				</section>
				<section>
					<section data-background="#c8102f">
						<h1 class="white"> Equalization </h1>
					</section>
					<section>
						<img src="../img/gml.jpg" style="max-height: 50%; max-width: 90%;">		
						<h3>Analog parametric equalizer</h3>	
					</section>
					<section>
						<img src="../img/q6.png" style="max-height: 50%; max-width: 50%;">		
						<h3>Digital parametric equalizer plugin</h3>	
					</section>
					<section>		
						<table>
							<tr >
								<td style="border-bottom: none; vertical-align:middle;"><h3>Gain</h3></td>
								<td style="border-bottom: none;"><img src="../img/gain.gif" style="max-height: 75%; max-width: 75%;"></td>
							</tr>
							<tr>
								<td style="border-bottom: none; vertical-align:middle;"><h3>Frequency</h3></td>
								<td style="border-bottom: none;"><img src="../img/freq.gif" style="max-height: 75%; max-width: 75%;"></td>
							</tr>
							<tr>
								<td style="border-bottom: none; vertical-align:middle;"><h3>Q (bandwidth)</h3></td>
								<td style="border-bottom: none;"><img src="../img/q.gif" style="max-height: 75%; max-width: 75%;"></td>
							</tr>
						</table>
					</section>
					<section>
						<div class="fragment fade-in-then-semi-out">
							<h3>What we recorded...</h3>
							<audio controls>
								<source src="../audio/pianoEQ_preEQ.mp3" type="audio/mp3">
								Your browser does not support the audio element.
							</audio>
						</div>
						<div style="margin: 25px;"></div>
						<div class="fragment fade-in-then-semi-out">
							<h3>What we want...</h3>
							<audio controls>
								<source src="../audio/pianoEQ_postEQ.mp3" type="audio/mp3">
								Your browser does not support the audio element.
							</audio>
						</div>
						<div style="margin: 25px;"></div>
						<h2 class="fragment fade-in"> How do we set the EQ to get there? </h2>
					</section>
					<section>
						<div>
							<h3> The parameters to achieve this are non-obvious </h3>
							<p>(except to the well trained audio engineer)</p>
						</div>
						<img src="../img/pianoEQ.png" style="max-height: 40%; max-width: 40%;">
					</section>
				</section>
				<section>
					<section data-background="#c8102f">
						<h1 class="white"> Theory </h1>
					</section>
					<section>
						<h2>Autoencoder</h2>
						<img src="../img/autoencoder_vid_decoder.png" style="max-height: 60%; max-width: 60%;">
						<div style="margin: 80px 0 0 0; float:left;">
							<h4 class="fragment fade-in">Encoder</h4>
							<p class="fragment fade-in">Input -> EQ parameters</p>
						</div> 
						<div style="margin: 80px 0 0 0; float:right;">
							<h4 class="fragment fade-in">Decoder</h4>
							<p class="fragment fade-in">Output -> EQ parameters</p>
						</div> 

						<p class="fragment fade-in">Latent space</p>
					</section>
					<section>
						<div class="container">
							<div style="width:60%">
								<img src="../img/decoder_nosample.png" style="max-height: 90%; max-width: 90%;">
								<p class="fragment fade-in" >Select a point</p>
							</div>
							<div class="col">
								<p class="fragment fade-in" style="margin: 200px 0 0 0;">Each point decodes to EQ config</p>
								<img class="fragment fade-in" src="../img/eq_curve.png" style="max-height: 80%; max-width: 80%;">		
							</div>
						</div>		
					</section>
					<section>
						<h2>Variational autoencoder</h2>
						<div class="fragment fade-in">
							<img src="../img/gauss.gif" style="max-height: 30%; max-width: 30%;">
							<p>The encoder becomes probabilistic and generates μ and σ</p>
						</div>

						<ul style="margin-top: 40px;">
							<li class="fragment fade-in"><p>centers latent codes around origin</p></li>
							<li class="fragment fade-in"><p>similar samples placed together</p></li>
							<li class="fragment fade-in"><p>dense population of latent space</p></li>
						</ul>		

						<h5 style="margin: 20px 0 5px 0px;"><strong>Auto-Encoding Variational Bayes</strong></h5>
						<h6> Diederik P. Kingma and Max Welling</h6>  

					</section>
					<section>
						<h2>Disentanglement</h2>

						<h4> Loss function</h4>
						$$ \Large \mathcal{L}_{\beta-VAE}(\pmb{\theta},\pmb{\phi},\mathbf{x}^{(i)}) = - \mathbb{E}_{\mathbf{z} \sim q_{\theta}(\mathbf{z}|\mathbf{x}^{(i)})} [ {\log{p_\phi(\mathbf{x}^{(i)} | \mathbf{z})}} ] + \mathbf{\beta} \: D_{KL} (q_\theta(\mathbf{z} | \mathbf{x}^{(i)}) || p_\theta(\mathbf{z})) $$

						<ul>
							<li class="fragment fade-in"><p>The beta term weighs the KL loss against the reconstruction loss</p></li>
							<li class="fragment fade-in"><p>Larger beta means greater disentanglement</p></li>
						</ul>


						<h5 style="margin: 80px 0 5px 0px;"><strong>β-VAE: Learning Basic Visual Concepts with a Constrained Variational Framework</strong></h5>
						<h6> Irina Higgins, Loic Matthey, Arka Pal, Christopher Burgess, Xavier Glorot, Matthew Botvinick, Shakir Mohamed, and Alexander Lerchner</h6> 

					</section>

				</section>

				<section>
					<section data-background="#c8102f">
						<h1 class="white"> Implementation </h1>
					</section>
					<section>
						<img src="../img/dataset_tf.gif" style="max-height: 70%; max-width: 70%;">
						<h3>SAFE-DB Dataset for five-band parametric EQ</h3>	
						<h4>1700 examples</h4>					
					</section>
					<section>
						<img src="../img/pluginblockdiagram.svg" style="max-height: 70%; max-width: 80%;">						
					</section>
					<section>
						<h3>Latent space disentanglement</h3>
						<div class="container">
							<div class="col" style="max-height: 50%; max-width: 50%;">
								<img src="../img/2d_beta_0.000_200epochs_2.gif">
								<p>β = 0.0</p>
							</div>
							<div class="col" style="max-height: 50%; max-width: 50%;">
								<img src="../img/2d_beta_0.020_200epochs_2.gif">
								<p>β = 0.02</p>
							</div>
						</div>
					</section>
				</section>

				<section>
					<section data-background="#c8102f">
						<h1 class="white"> Future directions </h1>
					</section>
					<section>
						<ul>
							<li class="fragment fade-in"><h3>Adaptive latent space conditioned on streaming audio content</h3></li>
							<li class="fragment fade-in"><h3>Collect additional data to expand the model's knowledge</h3></li>	
							<li class="fragment fade-in"><h3>Employ other generative modeling techniques (i.e. Normalizing flows)</h3></li>	
						</ul>
					</section>
		
				</section>


				<section data-background="#c8102f">
					<div class="end">
						<img src="img/upf_wh.svg" style="width: 35%;">

						<div class="project-links">
							<h3 class="white" style="margin: 25px 0 0 0;"> Project webpage</h3>
							<h5> <a class="white" href="https://flowEQ.ml">https://flowEQ.ml</a></h5>   
							<h3 class="white" style="margin: 25px 0 0 0;"> Project GitHub</h3>
							<h5> <a class="white" href="https://github.com/csteinmetz1/flowEQ">https://github.com/csteinmetz1/flowEQ</a></h5>  
				 		</div>
						
						<div style="margin: 40px 0 0 0; float: left;">
							<h4> <img src="img/twitter_wh.png" alt="twitter" style="margin: 10px 10px 0 0; width: 30px"> <a class="white" href="https://twitter.com/csteinmetz1">@csteinmetz1</a></h4> 
							<h4> <img src="img/mail_wh.png" alt="mail" style="margin: 5px 10px 0 0; width: 30px"> <a class="white" href="mailto:christianjames.steinmetz01@estudiant.upf.edu">christianjames.steinmetz01@estudiant.upf.edu</a></h4>
						</div>

						<img src="img/flowEQ_QR_code.png" alt="QR Code" style="margin: 20px 10px 0 0; width: 150px; float: right;">	
					</div>
				</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
